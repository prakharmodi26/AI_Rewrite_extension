{
  "version": 3,
  "sources": ["../../extension/src/storage.ts", "../../extension/src/hmac.ts", "../../extension/src/content.ts"],
  "sourcesContent": ["import { Settings, Tone, HistoryItem } from './types.js';\n\nconst DEFAULTS = {\n  serverUrl: 'http://localhost:8080',\n  defaultTone: 'friendly' as Tone,\n  redact: false,\n  dismissOnOutsideClick: true,\n};\n\nasync function ensureInstallId(): Promise<string> {\n  const { installId } = await chrome.storage.local.get('installId');\n  if (installId && typeof installId === 'string') return installId;\n  const id = crypto.randomUUID();\n  await chrome.storage.local.set({ installId: id });\n  return id;\n}\n\nexport async function getSettings(): Promise<Settings> {\n  const sync = await chrome.storage.sync.get(['serverUrl', 'defaultTone', 'redact', 'dismissOnOutsideClick']);\n  const local = await chrome.storage.local.get(['secret', 'installId']);\n  const installId = local.installId || (await ensureInstallId());\n  const allowedTones: Tone[] = ['friendly', 'formal', 'confident', 'persuasive', 'casual'];\n  const rawTone = (sync.defaultTone as string) || '';\n  const safeTone: Tone = allowedTones.includes(rawTone as Tone) ? (rawTone as Tone) : DEFAULTS.defaultTone;\n  return {\n    serverUrl: sync.serverUrl || DEFAULTS.serverUrl,\n    defaultTone: safeTone,\n    redact: typeof sync.redact === 'boolean' ? sync.redact : DEFAULTS.redact,\n    dismissOnOutsideClick: typeof sync.dismissOnOutsideClick === 'boolean' ? sync.dismissOnOutsideClick : DEFAULTS.dismissOnOutsideClick,\n    secret: typeof local.secret === 'string' ? local.secret : undefined,\n    installId,\n  };\n}\n\nexport async function setSyncSettings(partial: Partial<Pick<Settings, 'serverUrl' | 'defaultTone' | 'redact' | 'dismissOnOutsideClick'>>): Promise<void> {\n  await chrome.storage.sync.set(partial);\n}\n\nexport async function setLocalSettings(partial: Partial<Pick<Settings, 'secret' | 'installId'>>): Promise<void> {\n  await chrome.storage.local.set(partial);\n}\n\nexport async function regenerateInstallId(): Promise<string> {\n  const id = crypto.randomUUID();\n  await chrome.storage.local.set({ installId: id });\n  return id;\n}\n\nexport async function getHistory(): Promise<HistoryItem[]> {\n  const { history } = await chrome.storage.local.get('history');\n  if (Array.isArray(history)) return history as HistoryItem[];\n  return [];\n}\n\nexport async function addHistoryItem(item: Omit<HistoryItem, 'id' | 'ts'> & Partial<Pick<HistoryItem, 'id' | 'ts'>>): Promise<void> {\n  const current = await getHistory();\n  const full: HistoryItem = {\n    id: item.id || crypto.randomUUID(),\n    ts: item.ts || Date.now(),\n    task: item.task,\n    output: item.output,\n    inputPreview: item.inputPreview,\n    tone: item.tone,\n    percent: item.percent,\n    summary_level: item.summary_level,\n  };\n  const updated = [full, ...current].slice(0, 10);\n  await chrome.storage.local.set({ history: updated });\n}\n", "function utf8ToBytes(str: string): Uint8Array {\n  return new TextEncoder().encode(str);\n}\n\nfunction bytesToHex(bytes: ArrayBuffer | Uint8Array): string {\n  const u8 = bytes instanceof Uint8Array ? bytes : new Uint8Array(bytes);\n  let hex = '';\n  for (let i = 0; i < u8.length; i++) {\n    const h = u8[i].toString(16).padStart(2, '0');\n    hex += h;\n  }\n  return hex;\n}\n\nexport async function hmacSha256Hex(secretUtf8: string, data: string): Promise<string> {\n  const secretBytes = utf8ToBytes(secretUtf8);\n  const key = await crypto.subtle.importKey(\n    'raw',\n    secretBytes as unknown as BufferSource,\n    { name: 'HMAC', hash: 'SHA-256' },\n    false,\n    ['sign']\n  );\n  const dataBytes = utf8ToBytes(data);\n  const sig = await crypto.subtle.sign('HMAC', key, dataBytes as unknown as BufferSource);\n  return bytesToHex(sig);\n}\n\nexport const encoding = { utf8ToBytes, bytesToHex };\n", "import { AiActionMessage, Task, Tone, TransformRequestBody, TransformResponseBody, PercentLevel, SummaryLevel } from './types.js';\nimport { getSettings, addHistoryItem } from './storage.js';\nimport { hmacSha256Hex } from './hmac.js';\n\nfunction getSelectionInfo() {\n  const sel = window.getSelection();\n  if (!sel || sel.rangeCount === 0) return { text: '', rect: null as DOMRect | null, range: null as Range | null };\n  const range = sel.getRangeAt(0);\n  const text = sel.toString();\n  const rect = range.getBoundingClientRect();\n  return { text, rect, range };\n}\n\nfunction createOverlay(title: string) {\n  const container = document.createElement('div');\n  container.className = 'ai-overlay-container';\n  container.setAttribute('role', 'dialog');\n  container.setAttribute('aria-label', 'AI Actions');\n  container.tabIndex = -1;\n\n  const header = document.createElement('div');\n  header.className = 'ai-overlay-header';\n  const icon = document.createElement('img');\n  icon.src = chrome.runtime.getURL('src/icons/pencil.svg');\n  icon.alt = '';\n  icon.width = 16;\n  icon.height = 16;\n  icon.style.marginRight = '8px';\n  const h = document.createElement('div');\n  h.className = 'ai-overlay-title';\n  h.textContent = title;\n  const close = document.createElement('button');\n  close.className = 'ai-close-btn';\n  close.setAttribute('aria-label', 'Close overlay');\n  close.textContent = '\u2715';\n  close.addEventListener('click', () => container.remove());\n  const left = document.createElement('div');\n  left.style.display = 'flex';\n  left.style.alignItems = 'center';\n  left.append(icon, h);\n  header.append(left, close);\n\n  const content = document.createElement('div');\n  content.className = 'ai-overlay-content';\n  const pre = document.createElement('pre');\n  pre.className = 'ai-overlay-pre';\n  pre.textContent = '';\n  content.append(pre);\n\n  const actions = document.createElement('div');\n  actions.className = 'ai-overlay-actions';\n  const copyBtn = document.createElement('button');\n  copyBtn.className = 'ai-btn ai-focus-ring';\n  copyBtn.setAttribute('aria-label', 'Copy to clipboard');\n  copyBtn.textContent = 'Copy';\n  const replaceBtn = document.createElement('button');\n  replaceBtn.className = 'ai-btn secondary ai-focus-ring';\n  replaceBtn.setAttribute('aria-label', 'Replace selection');\n  replaceBtn.textContent = 'Replace Selection';\n  const toneBtn = document.createElement('button');\n  toneBtn.className = 'ai-btn secondary ai-focus-ring';\n  toneBtn.setAttribute('aria-label', 'Change tone and retry');\n  toneBtn.textContent = 'Change Tone';\n  const dismissBtn = document.createElement('button');\n  dismissBtn.className = 'ai-btn secondary ai-focus-ring';\n  dismissBtn.setAttribute('aria-label', 'Dismiss overlay');\n  dismissBtn.textContent = 'Cancel';\n  actions.append(copyBtn, toneBtn, replaceBtn, dismissBtn);\n\n  container.append(header, content, actions);\n\n  // Draggable by header\n  let dragStartX = 0, dragStartY = 0, startLeft = 0, startTop = 0, dragging = false;\n  header.style.cursor = 'move';\n  header.addEventListener('mousedown', (e) => {\n    dragging = true;\n    const rect = container.getBoundingClientRect();\n    startLeft = rect.left + window.scrollX;\n    startTop = rect.top + window.scrollY;\n    dragStartX = e.clientX + window.scrollX;\n    dragStartY = e.clientY + window.scrollY;\n    e.preventDefault();\n  });\n  const onMove = (e: MouseEvent) => {\n    if (!dragging) return;\n    const dx = (e.clientX + window.scrollX) - dragStartX;\n    const dy = (e.clientY + window.scrollY) - dragStartY;\n    let left = startLeft + dx;\n    let top = startTop + dy;\n    const maxLeft = window.scrollX + window.innerWidth - container.offsetWidth - 10;\n    const maxTop = window.scrollY + window.innerHeight - container.offsetHeight - 10;\n    left = Math.max(window.scrollX + 10, Math.min(maxLeft, left));\n    top = Math.max(window.scrollY + 10, Math.min(maxTop, top));\n    container.style.left = `${left}px`;\n    container.style.top = `${top}px`;\n  };\n  const onUp = () => { dragging = false; };\n  document.addEventListener('mousemove', onMove, true);\n  document.addEventListener('mouseup', onUp, true);\n\n  function onKey(e: KeyboardEvent) {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      container.remove();\n    }\n    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'c') {\n      copyBtn.click();\n    }\n    if (e.key === 'Enter') {\n      copyBtn.click();\n    }\n  }\n  container.addEventListener('keydown', onKey);\n\n  // Simple focus trap\n  const focusables: HTMLElement[] = [copyBtn, toneBtn, replaceBtn, dismissBtn, close];\n  container.addEventListener('keydown', (e) => {\n    if (e.key !== 'Tab') return;\n    const activeEl = document.activeElement as HTMLElement | null;\n    const idx = activeEl ? Math.max(0, focusables.indexOf(activeEl)) : 0;\n    const dir = e.shiftKey ? -1 : 1;\n    const next = (idx + dir + focusables.length) % focusables.length;\n    focusables[next].focus();\n    e.preventDefault();\n  });\n\n  return { container, pre, copyBtn, toneBtn, replaceBtn, dismissBtn, close };\n}\n\nfunction positionOverlay(el: HTMLElement, rect: DOMRect | null) {\n  const margin = 8;\n  const vw = window.innerWidth;\n  const vh = window.innerHeight;\n  const scrollX = window.scrollX;\n  const scrollY = window.scrollY;\n\n  let left = scrollX + (rect ? rect.right : 20) + margin;\n  let top = scrollY + (rect ? rect.top : 20);\n\n  document.body.appendChild(el);\n  const { width, height } = el.getBoundingClientRect();\n\n  if (left + width > scrollX + vw - 10) left = Math.max(scrollX + 10, scrollX + (rect ? rect.left : 10) - width - margin);\n  if (top + height > scrollY + vh - 10) top = Math.max(scrollY + 10, scrollY + (rect ? rect.bottom : 10) - height - margin);\n\n  el.style.left = `${left}px`;\n  el.style.top = `${top}px`;\n}\n\nfunction showToast(text: string, level: 'info' | 'error' = 'info') {\n  const t = document.createElement('div');\n  t.className = 'ai-toast' + (level === 'error' ? ' error' : ' success');\n  t.textContent = text;\n  document.body.appendChild(t);\n  setTimeout(() => t.remove(), 2200);\n}\n\nasync function callServer(task: Task, input: string, opts: { tone?: Tone; percent?: PercentLevel; summary_level?: SummaryLevel }) {\n  const settings = await getSettings();\n  const body: TransformRequestBody = { task, input };\n  // redact optional\n  if (settings.redact) body.redact = true;\n  // include task-specific parameters\n  if (task === 'rewrite') {\n    if (!opts.tone) throw new Error('Tone is required for rewrite');\n    body.tone = opts.tone;\n  } else if (task === 'shorten' || task === 'expand') {\n    if (!opts.percent) throw new Error('Percent is required');\n    body.percent = opts.percent;\n  } else if (task === 'summarize') {\n    if (!opts.summary_level) throw new Error('Summary level is required');\n    body.summary_level = opts.summary_level;\n  }\n  const bodyString = JSON.stringify(body);\n  const ts = Date.now().toString();\n  const nonce = crypto.randomUUID();\n  const dataToSign = `${bodyString}.${ts}.${nonce}`;\n  const secret = settings.secret || '';\n  const signature = await hmacSha256Hex(secret, dataToSign);\n\n  const res = await fetch(new URL('/transform', settings.serverUrl).toString(), {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-ts': ts,\n      'x-nonce': nonce,\n      'x-signature': signature,\n      'x-install-id': settings.installId,\n    },\n    body: bodyString,\n  });\n\n  if (!res.ok) {\n    const msgByStatus: Record<number, string> = {\n      400: 'Invalid request.',\n      401: 'Auth error (signature/timing). Try again.',\n      409: 'Auth error (signature/timing). Try again.',\n      429: 'Too many requests. Please slow down.',\n      500: 'Server error. Try again.',\n    };\n    const msg = msgByStatus[res.status] || 'Request failed.';\n    throw new Error(msg);\n  }\n\n  const json = (await res.json()) as TransformResponseBody;\n  return json.output;\n}\n\nasync function handleAction(task: Task, tone?: Tone, percent?: PercentLevel, summary_level?: SummaryLevel) {\n  const { text, rect, range } = getSelectionInfo();\n  if (!text || text.trim() === '') {\n    showToast('No text selected');\n    return;\n  }\n\n  const titleMap: Record<Task, string> = {\n    rewrite: 'Rewrite',\n    grammar: 'Fix Grammar & Spelling',\n    summarize: 'Summarize',\n    shorten: 'Shorten',\n    expand: 'Expand',\n  };\n  const title = titleMap[task];\n  const ui = createOverlay(title);\n  positionOverlay(ui.container, rect);\n  ui.container.focus();\n\n  // loading spinner\n  ui.pre.innerHTML = `<div class=\"ai-spinner\" aria-label=\"Loading\" role=\"status\" aria-live=\"polite\"></div>`;\n\n  try {\n    const settings = await getSettings();\n    let useTone: Tone | undefined = undefined;\n    let usePercent: PercentLevel | undefined = percent;\n    let useSummary: SummaryLevel | undefined = summary_level;\n    if (task === 'rewrite') {\n      useTone = tone || settings.defaultTone;\n    }\n    const clipped = text.slice(0, 10000);\n    const output = await callServer(task, clipped, { tone: useTone, percent: usePercent, summary_level: useSummary });\n    ui.pre.textContent = output;\n    // Save to history\n    await addHistoryItem({\n      task,\n      output,\n      inputPreview: clipped.slice(0, 200),\n      tone: useTone,\n      percent: usePercent,\n      summary_level: useSummary,\n    });\n\n    ui.copyBtn.addEventListener('click', async () => {\n      await navigator.clipboard.writeText(output);\n      showToast('Copied', 'info');\n    });\n\n    ui.dismissBtn.addEventListener('click', () => ui.container.remove());\n    // outside click dismiss (toggleable)\n    if (settings.dismissOnOutsideClick !== false) {\n      const onDocClick = (ev: MouseEvent) => {\n        if (!ui.container.contains(ev.target as Node)) {\n          ui.container.remove();\n          document.removeEventListener('mousedown', onDocClick, true);\n        }\n      };\n      setTimeout(() => document.addEventListener('mousedown', onDocClick, true), 0);\n    }\n\n    const isEditable = () => {\n      const active = document.activeElement as HTMLElement | null;\n      if (!active) return false;\n      if ((active as HTMLInputElement).value !== undefined || (active as HTMLTextAreaElement).value !== undefined) return true;\n      if (active.isContentEditable) return true;\n      return false;\n    };\n\n    const updateReplaceState = () => {\n      ui.replaceBtn.disabled = !isEditable();\n      ui.replaceBtn.setAttribute('aria-disabled', ui.replaceBtn.disabled ? 'true' : 'false');\n    };\n    updateReplaceState();\n    window.addEventListener('focusin', updateReplaceState);\n\n    ui.replaceBtn.addEventListener('click', async () => {\n      const active = document.activeElement as HTMLElement | null;\n      if (!active) {\n        await navigator.clipboard.writeText(output);\n        showToast('Copied (no editable target)', 'info');\n        return;\n      }\n      if (active instanceof HTMLInputElement || active instanceof HTMLTextAreaElement) {\n        const start = active.selectionStart ?? 0;\n        const end = active.selectionEnd ?? 0;\n        const val = active.value;\n        active.value = val.slice(0, start) + output + val.slice(end);\n        // set caret after inserted text\n        const pos = (start + output.length);\n        active.selectionStart = active.selectionEnd = pos;\n        active.dispatchEvent(new Event('input', { bubbles: true }));\n      } else if (active && active.isContentEditable) {\n        const sel = window.getSelection();\n        if (sel && sel.rangeCount > 0) {\n          const r = sel.getRangeAt(0);\n          r.deleteContents();\n          r.insertNode(document.createTextNode(output));\n        } else if (range) {\n          range.deleteContents();\n          range.insertNode(document.createTextNode(output));\n        } else {\n          await navigator.clipboard.writeText(output);\n          showToast('Copied (no selection)', 'info');\n        }\n      } else {\n        await navigator.clipboard.writeText(output);\n        showToast('Copied (no editable target)', 'info');\n      }\n    });\n\n    // Change tone and re-run (rewrite only)\n    ui.toneBtn.style.display = task === 'rewrite' ? 'inline-block' : 'none';\n    ui.toneBtn.addEventListener('click', async () => {\n      const menu = document.createElement('div');\n      menu.className = 'ai-tone-menu';\n      const tones: { key: Tone; label: string }[] = [\n        { key: 'formal', label: 'Formal' },\n        { key: 'friendly', label: 'Friendly' },\n        { key: 'confident', label: 'Confident' },\n        { key: 'persuasive', label: 'Persuasive' },\n        { key: 'casual', label: 'Casual' },\n      ];\n      tones.forEach((t) => {\n        const b = document.createElement('button');\n        b.textContent = t.label;\n        b.addEventListener('click', async () => {\n          menu.remove();\n          ui.pre.innerHTML = `<div class=\"ai-spinner\" aria-label=\"Loading\" role=\"status\" aria-live=\"polite\"></div>`;\n          try {\n            const clipped2 = text.slice(0, 10000);\n            const out2 = await callServer('rewrite', clipped2, { tone: t.key });\n            ui.pre.textContent = out2;\n            await addHistoryItem({ task: 'rewrite', output: out2, inputPreview: clipped2.slice(0, 200), tone: t.key });\n          } catch (err: any) {\n            ui.pre.textContent = err?.message || 'Failed.';\n            showToast(ui.pre.textContent, 'error');\n          }\n        });\n        menu.appendChild(b);\n      });\n      document.body.appendChild(menu);\n      const r = ui.toneBtn.getBoundingClientRect();\n      menu.style.left = `${window.scrollX + r.left}px`;\n      menu.style.top = `${window.scrollY + r.bottom + 6}px`;\n      menu.style.display = 'block';\n      const closeMenu = (ev: MouseEvent) => {\n        if (!menu.contains(ev.target as Node) && ev.target !== ui.toneBtn) {\n          menu.remove();\n          document.removeEventListener('mousedown', closeMenu, true);\n        }\n      };\n      setTimeout(() => document.addEventListener('mousedown', closeMenu, true), 0);\n    });\n  } catch (e: any) {\n    ui.pre.textContent = (e?.message as string) || 'Failed.';\n    showToast(ui.pre.textContent, 'error');\n  }\n}\n\nchrome.runtime.onMessage.addListener((msg: AiActionMessage | { type: 'AI_TOAST'; text: string; level?: 'info' | 'error' }, _sender, _sendResponse) => {\n  if (msg.type === 'AI_ACTION') {\n    handleAction(msg.task, msg.tone as Tone, msg.percent as PercentLevel, msg.summary_level as SummaryLevel);\n  } else if (msg.type === 'AI_TOAST') {\n    showToast(msg.text, msg.level || 'info');\n  }\n});\n"],
  "mappings": "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",
  "names": ["left"]
}
