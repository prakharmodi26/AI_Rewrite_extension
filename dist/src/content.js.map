{
  "version": 3,
  "sources": ["../../extension/src/storage.ts", "../../extension/src/hmac.ts", "../../extension/src/content.ts"],
  "sourcesContent": ["import { Settings, Tone } from './types.js';\n\nconst DEFAULTS = {\n  serverUrl: 'http://localhost:8080',\n  defaultTone: 'clear' as Tone,\n  redact: false,\n};\n\nasync function ensureInstallId(): Promise<string> {\n  const { installId } = await chrome.storage.local.get('installId');\n  if (installId && typeof installId === 'string') return installId;\n  const id = crypto.randomUUID();\n  await chrome.storage.local.set({ installId: id });\n  return id;\n}\n\nexport async function getSettings(): Promise<Settings> {\n  const sync = await chrome.storage.sync.get(['serverUrl', 'defaultTone', 'redact']);\n  const local = await chrome.storage.local.get(['secret', 'installId']);\n  const installId = local.installId || (await ensureInstallId());\n  return {\n    serverUrl: sync.serverUrl || DEFAULTS.serverUrl,\n    defaultTone: (sync.defaultTone as Tone) || DEFAULTS.defaultTone,\n    redact: typeof sync.redact === 'boolean' ? sync.redact : DEFAULTS.redact,\n    secret: typeof local.secret === 'string' ? local.secret : undefined,\n    installId,\n  };\n}\n\nexport async function setSyncSettings(partial: Partial<Pick<Settings, 'serverUrl' | 'defaultTone' | 'redact'>>): Promise<void> {\n  await chrome.storage.sync.set(partial);\n}\n\nexport async function setLocalSettings(partial: Partial<Pick<Settings, 'secret' | 'installId'>>): Promise<void> {\n  await chrome.storage.local.set(partial);\n}\n\nexport async function regenerateInstallId(): Promise<string> {\n  const id = crypto.randomUUID();\n  await chrome.storage.local.set({ installId: id });\n  return id;\n}\n", "function utf8ToBytes(str: string): Uint8Array {\n  return new TextEncoder().encode(str);\n}\n\nfunction bytesToHex(bytes: ArrayBuffer | Uint8Array): string {\n  const u8 = bytes instanceof Uint8Array ? bytes : new Uint8Array(bytes);\n  let hex = '';\n  for (let i = 0; i < u8.length; i++) {\n    const h = u8[i].toString(16).padStart(2, '0');\n    hex += h;\n  }\n  return hex;\n}\n\nexport async function hmacSha256Hex(secretUtf8: string, data: string): Promise<string> {\n  const secretBytes = utf8ToBytes(secretUtf8);\n  const key = await crypto.subtle.importKey(\n    'raw',\n    secretBytes as unknown as BufferSource,\n    { name: 'HMAC', hash: 'SHA-256' },\n    false,\n    ['sign']\n  );\n  const dataBytes = utf8ToBytes(data);\n  const sig = await crypto.subtle.sign('HMAC', key, dataBytes as unknown as BufferSource);\n  return bytesToHex(sig);\n}\n\nexport const encoding = { utf8ToBytes, bytesToHex };\n", "import { AiActionMessage, Task, Tone, TransformRequestBody, TransformResponseBody } from './types.js';\nimport { getSettings } from './storage.js';\nimport { hmacSha256Hex } from './hmac.js';\n\nfunction getSelectionInfo() {\n  const sel = window.getSelection();\n  if (!sel || sel.rangeCount === 0) return { text: '', rect: null as DOMRect | null, range: null as Range | null };\n  const range = sel.getRangeAt(0);\n  const text = sel.toString();\n  const rect = range.getBoundingClientRect();\n  return { text, rect, range };\n}\n\nfunction createOverlay(title: string) {\n  const container = document.createElement('div');\n  container.className = 'ai-overlay-container';\n  container.setAttribute('role', 'dialog');\n  container.setAttribute('aria-label', 'AI Actions');\n  container.tabIndex = -1;\n\n  const header = document.createElement('div');\n  header.className = 'ai-overlay-header';\n  const h = document.createElement('div');\n  h.className = 'ai-overlay-title';\n  h.textContent = title;\n  const close = document.createElement('button');\n  close.className = 'ai-close-btn';\n  close.setAttribute('aria-label', 'Close overlay');\n  close.textContent = '\u2715';\n  close.addEventListener('click', () => container.remove());\n  header.append(h, close);\n\n  const content = document.createElement('div');\n  content.className = 'ai-overlay-content';\n  const pre = document.createElement('pre');\n  pre.className = 'ai-overlay-pre';\n  pre.textContent = '';\n  content.append(pre);\n\n  const actions = document.createElement('div');\n  actions.className = 'ai-overlay-actions';\n  const copyBtn = document.createElement('button');\n  copyBtn.className = 'ai-btn ai-focus-ring';\n  copyBtn.setAttribute('aria-label', 'Copy to clipboard');\n  copyBtn.textContent = 'Copy';\n  const replaceBtn = document.createElement('button');\n  replaceBtn.className = 'ai-btn secondary ai-focus-ring';\n  replaceBtn.setAttribute('aria-label', 'Replace selection');\n  replaceBtn.textContent = 'Replace Selection';\n  const toneBtn = document.createElement('button');\n  toneBtn.className = 'ai-btn secondary ai-focus-ring';\n  toneBtn.setAttribute('aria-label', 'Change tone and retry');\n  toneBtn.textContent = 'Change Tone';\n  const dismissBtn = document.createElement('button');\n  dismissBtn.className = 'ai-btn secondary ai-focus-ring';\n  dismissBtn.setAttribute('aria-label', 'Dismiss overlay');\n  dismissBtn.textContent = 'Cancel';\n  actions.append(copyBtn, toneBtn, replaceBtn, dismissBtn);\n\n  container.append(header, content, actions);\n\n  function onKey(e: KeyboardEvent) {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      container.remove();\n    }\n    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'c') {\n      copyBtn.click();\n    }\n    if (e.key === 'Enter') {\n      copyBtn.click();\n    }\n  }\n  container.addEventListener('keydown', onKey);\n\n  // Simple focus trap\n  const focusables: HTMLElement[] = [copyBtn, toneBtn, replaceBtn, dismissBtn, close];\n  container.addEventListener('keydown', (e) => {\n    if (e.key !== 'Tab') return;\n    const activeEl = document.activeElement as HTMLElement | null;\n    const idx = activeEl ? Math.max(0, focusables.indexOf(activeEl)) : 0;\n    const dir = e.shiftKey ? -1 : 1;\n    const next = (idx + dir + focusables.length) % focusables.length;\n    focusables[next].focus();\n    e.preventDefault();\n  });\n\n  return { container, pre, copyBtn, toneBtn, replaceBtn, dismissBtn, close };\n}\n\nfunction positionOverlay(el: HTMLElement, rect: DOMRect | null) {\n  const margin = 8;\n  const vw = window.innerWidth;\n  const vh = window.innerHeight;\n  const scrollX = window.scrollX;\n  const scrollY = window.scrollY;\n\n  let left = scrollX + (rect ? rect.right : 20) + margin;\n  let top = scrollY + (rect ? rect.top : 20);\n\n  document.body.appendChild(el);\n  const { width, height } = el.getBoundingClientRect();\n\n  if (left + width > scrollX + vw - 10) left = Math.max(scrollX + 10, scrollX + (rect ? rect.left : 10) - width - margin);\n  if (top + height > scrollY + vh - 10) top = Math.max(scrollY + 10, scrollY + (rect ? rect.bottom : 10) - height - margin);\n\n  el.style.left = `${left}px`;\n  el.style.top = `${top}px`;\n}\n\nfunction showToast(text: string, level: 'info' | 'error' = 'info') {\n  const t = document.createElement('div');\n  t.className = 'ai-toast' + (level === 'error' ? ' error' : ' success');\n  t.textContent = text;\n  document.body.appendChild(t);\n  setTimeout(() => t.remove(), 2200);\n}\n\nasync function callServer(task: Task, tone: Tone, input: string) {\n  const settings = await getSettings();\n  const body: TransformRequestBody = { task, tone, input, redact: settings.redact };\n  const bodyString = JSON.stringify(body);\n  const ts = Date.now().toString();\n  const nonce = crypto.randomUUID();\n  const dataToSign = `${bodyString}.${ts}.${nonce}`;\n  const secret = settings.secret || '';\n  const signature = await hmacSha256Hex(secret, dataToSign);\n\n  const res = await fetch(new URL('/transform', settings.serverUrl).toString(), {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-ts': ts,\n      'x-nonce': nonce,\n      'x-signature': signature,\n      'x-install-id': settings.installId,\n    },\n    body: bodyString,\n  });\n\n  if (!res.ok) {\n    const msgByStatus: Record<number, string> = {\n      400: 'Invalid request.',\n      401: 'Auth error (signature/timing). Try again.',\n      409: 'Auth error (signature/timing). Try again.',\n      429: 'Too many requests. Please slow down.',\n      500: 'Server error. Try again.',\n    };\n    const msg = msgByStatus[res.status] || 'Request failed.';\n    throw new Error(msg);\n  }\n\n  const json = (await res.json()) as TransformResponseBody;\n  return json.output;\n}\n\nasync function handleAction(task: Task, tone?: Tone) {\n  const { text, rect, range } = getSelectionInfo();\n  if (!text || text.trim() === '') {\n    showToast('No text selected');\n    return;\n  }\n\n  const title = task === 'summarize' ? 'Summarize (3\u20135 bullets)' : `Rewrite \u2192 ${tone === 'friendly' ? 'Friendly' : tone === 'concise' ? 'Concise' : tone === 'formal' ? 'Formal' : tone === 'grammar' ? 'Grammar only' : 'Clear & Professional'}`;\n  const ui = createOverlay(title);\n  positionOverlay(ui.container, rect);\n  ui.container.focus();\n\n  // loading spinner\n  ui.pre.innerHTML = `<div class=\"ai-spinner\" aria-label=\"Loading\" role=\"status\" aria-live=\"polite\"></div>`;\n\n  try {\n    const settings = await getSettings();\n    const useTone: Tone = task === 'rewrite' ? (tone || settings.defaultTone) : 'clear';\n    const output = await callServer(task, useTone, text.slice(0, 10000));\n    ui.pre.textContent = output;\n\n    ui.copyBtn.addEventListener('click', async () => {\n      await navigator.clipboard.writeText(output);\n      showToast('Copied', 'info');\n    });\n\n    ui.dismissBtn.addEventListener('click', () => ui.container.remove());\n    // outside click dismiss\n    const onDocClick = (ev: MouseEvent) => {\n      if (!ui.container.contains(ev.target as Node)) {\n        ui.container.remove();\n        document.removeEventListener('mousedown', onDocClick, true);\n      }\n    };\n    setTimeout(() => document.addEventListener('mousedown', onDocClick, true), 0);\n\n    const isEditable = () => {\n      const active = document.activeElement as HTMLElement | null;\n      if (!active) return false;\n      if ((active as HTMLInputElement).value !== undefined || (active as HTMLTextAreaElement).value !== undefined) return true;\n      if (active.isContentEditable) return true;\n      return false;\n    };\n\n    const updateReplaceState = () => {\n      ui.replaceBtn.disabled = !isEditable();\n      ui.replaceBtn.setAttribute('aria-disabled', ui.replaceBtn.disabled ? 'true' : 'false');\n    };\n    updateReplaceState();\n    window.addEventListener('focusin', updateReplaceState);\n\n    ui.replaceBtn.addEventListener('click', async () => {\n      const active = document.activeElement as HTMLElement | null;\n      if (!active) {\n        await navigator.clipboard.writeText(output);\n        showToast('Copied (no editable target)', 'info');\n        return;\n      }\n      if (active instanceof HTMLInputElement || active instanceof HTMLTextAreaElement) {\n        const start = active.selectionStart ?? 0;\n        const end = active.selectionEnd ?? 0;\n        const val = active.value;\n        active.value = val.slice(0, start) + output + val.slice(end);\n        // set caret after inserted text\n        const pos = (start + output.length);\n        active.selectionStart = active.selectionEnd = pos;\n        active.dispatchEvent(new Event('input', { bubbles: true }));\n      } else if (active && active.isContentEditable) {\n        const sel = window.getSelection();\n        if (sel && sel.rangeCount > 0) {\n          const r = sel.getRangeAt(0);\n          r.deleteContents();\n          r.insertNode(document.createTextNode(output));\n        } else if (range) {\n          range.deleteContents();\n          range.insertNode(document.createTextNode(output));\n        } else {\n          await navigator.clipboard.writeText(output);\n          showToast('Copied (no selection)', 'info');\n        }\n      } else {\n        await navigator.clipboard.writeText(output);\n        showToast('Copied (no editable target)', 'info');\n      }\n    });\n\n    // Change tone and re-run\n    ui.toneBtn.addEventListener('click', async () => {\n      const menu = document.createElement('div');\n      menu.className = 'ai-tone-menu';\n      const tones: { key: Tone; label: string }[] = [\n        { key: 'clear', label: 'Clear & Professional' },\n        { key: 'friendly', label: 'Friendly' },\n        { key: 'concise', label: 'Concise' },\n        { key: 'formal', label: 'Formal' },\n        { key: 'grammar', label: 'Grammar only' },\n      ];\n      tones.forEach((t) => {\n        const b = document.createElement('button');\n        b.textContent = t.label;\n        b.addEventListener('click', async () => {\n          menu.remove();\n          ui.pre.innerHTML = `<div class=\"ai-spinner\" aria-label=\"Loading\" role=\"status\" aria-live=\"polite\"></div>`;\n          try {\n            const out2 = await callServer('rewrite', t.key, text.slice(0, 10000));\n            ui.pre.textContent = out2;\n          } catch (err: any) {\n            ui.pre.textContent = err?.message || 'Failed.';\n            showToast(ui.pre.textContent, 'error');\n          }\n        });\n        menu.appendChild(b);\n      });\n      document.body.appendChild(menu);\n      const r = ui.toneBtn.getBoundingClientRect();\n      menu.style.left = `${window.scrollX + r.left}px`;\n      menu.style.top = `${window.scrollY + r.bottom + 6}px`;\n      menu.style.display = 'block';\n      const closeMenu = (ev: MouseEvent) => {\n        if (!menu.contains(ev.target as Node) && ev.target !== ui.toneBtn) {\n          menu.remove();\n          document.removeEventListener('mousedown', closeMenu, true);\n        }\n      };\n      setTimeout(() => document.addEventListener('mousedown', closeMenu, true), 0);\n    });\n  } catch (e: any) {\n    ui.pre.textContent = (e?.message as string) || 'Failed.';\n    showToast(ui.pre.textContent, 'error');\n  }\n}\n\nchrome.runtime.onMessage.addListener((msg: AiActionMessage | { type: 'AI_TOAST'; text: string; level?: 'info' | 'error' }, _sender, _sendResponse) => {\n  if (msg.type === 'AI_ACTION') {\n    handleAction(msg.task, msg.tone as Tone);\n  } else if (msg.type === 'AI_TOAST') {\n    showToast(msg.text, msg.level || 'info');\n  }\n});\n"],
  "mappings": "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",
  "names": []
}
